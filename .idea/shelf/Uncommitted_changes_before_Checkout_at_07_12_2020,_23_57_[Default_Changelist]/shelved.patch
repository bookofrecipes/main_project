Index: app/src/main/java/ru/geekbrains/bookofrecipes/presentation/ui/recipes/RecipesFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ru.geekbrains.bookofrecipes.presentation.ui.recipes\n\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.fragment.app.Fragment\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport com.google.android.material.snackbar.Snackbar\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.fragment_recipes.view.*\nimport org.koin.android.ext.android.get\nimport org.koin.android.viewmodel.ext.android.viewModel\nimport ru.geekbrains.bookofrecipes.R\nimport ru.geekbrains.bookofrecipes.presentation.MainActivity\nimport ru.geekbrains.bookofrecipes.presentation.models.RecipeModelForRecycler\nimport ru.geekbrains.bookofrecipes.presentation.ui.recycler.RecipesAdapter\nimport ru.geekbrains.bookofrecipes.service.Failure\nimport ru.geekbrains.bookofrecipes.service.Failure.NetworkConnection\nimport ru.geekbrains.bookofrecipes.service.Failure.ServerError\nimport ru.geekbrains.bookofrecipes.service.extensions.observeData\nimport ru.geekbrains.bookofrecipes.service.extensions.observeFailure\n\nclass RecipesFragment : Fragment() {\n\n    private val recipesViewModel: RecipesViewModel by viewModel()\n    private val recipesAdapter: RecipesAdapter = get()\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val root = inflater.inflate(R.layout.fragment_recipes, container, false)\n\n        observeData(recipesViewModel.recipes, ::handleRecipeList)\n        observeFailure(recipesViewModel.failure, ::handleFailure)\n\n        root.button.setOnClickListener {\n            recipesViewModel.loadRandomRecipes()\n        }\n\n        return root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        initializeView(view)\n    }\n\n    private fun initializeView(root: View) {\n        root.activity_recyclerview.layoutManager = LinearLayoutManager(root.context)\n        root.activity_recyclerview.adapter = recipesAdapter\n    }\n\n    private fun handleRecipeList(list: List<RecipeModelForRecycler>) {\n        recipesAdapter.collection = list\n    }\n\n    private fun handleFailure(failure: Failure?) {\n        when (failure) {\n            NetworkConnection -> showFailure(\"No network connection on your device\")\n            ServerError -> showFailure(\"Server error. Please, try again later.\")\n            else -> return\n        }\n    }\n\n    private fun showFailure(message: String) {\n        val snackbar = Snackbar.make(\n            (activity as MainActivity).nav_host_fragment,\n            message,\n            Snackbar.LENGTH_LONG\n        )\n        snackbar.setAction(\"Reload\") { recipesViewModel.loadRandomRecipes() }\n        snackbar.show()\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/ru/geekbrains/bookofrecipes/presentation/ui/recipes/RecipesFragment.kt	(revision 8c1b253fd33db3bce9aa881118455b7f76712a56)
+++ app/src/main/java/ru/geekbrains/bookofrecipes/presentation/ui/recipes/RecipesFragment.kt	(date 1607185333000)
@@ -5,6 +5,7 @@
 import android.view.View
 import android.view.ViewGroup
 import androidx.fragment.app.Fragment
+import androidx.lifecycle.observe
 import androidx.recyclerview.widget.LinearLayoutManager
 import com.google.android.material.snackbar.Snackbar
 import kotlinx.android.synthetic.main.activity_main.*
